{"version":3,"file":"static/js/428.3dc55d64.chunk.js","mappings":"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","sources":["Components/ArticleCard2Loading.js","Components/ArticleCard3.js","Screens/dashboard/YourArticles.js"],"sourcesContent":["import React from 'react'\r\n\r\nconst ArticleCard2Loading = ({addTop = false}) => {\r\n  return (\r\n    <div className={'col-12 col-md-6 col-xl-4 p-2'} style={{minWidth:300}}>\r\n            <div className='card p-2'>\r\n              { addTop && <><div className='p-3 m-1'></div><hr/></> }\r\n              <div className='d-flex flex-row  gap-2'>\r\n                  <img className='border rounded bg-color-grey' width={100} height={100} />\r\n                  <div className='d-flex flex-column flex-grow-1 px-2 gap-1'>\r\n                      <img className='border rounded bg-color-grey' width={'100%'} height={20}/>\r\n                      <img className='border rounded bg-color-grey' width={'90%'} height={20}/>\r\n                      <img className='border rounded bg-color-grey' width={'80%'} height={20}/>\r\n                      <img className='border rounded bg-color-grey' width={'50%'} height={20}/>\r\n                      <img className='margin-inline-start-auto border rounded bg-color-grey' width={'60%'} height={20}/>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n              \r\n        </div>\r\n  )\r\n}\r\n\r\nexport default ArticleCard2Loading","import React from 'react'\r\nimport LazyImage from './UI/LazyImage'\r\nimport { useContext } from 'react'\r\nimport { BrowserContext } from '../store/BrowserContext'\r\nimport { hideUnhide } from '../utils'\r\nimport { Link } from 'react-router-dom'\r\nimport { TranslationContext } from '../store/TranslationContext'\r\nimport TimeElapsed from '../Components/TimeElapsed'\r\n\r\nconst ArticleCard3 = ({article, link, className, deleteArticle}) => {\r\n    const {language, togglePopup} = useContext(BrowserContext)\r\n    const {translate}=useContext(TranslationContext)\r\n\r\n    return (\r\n        <div className={'col-12 col-md-6 col-xl-4 p-2' + className} style={{minWidth:300}}>\r\n            <div className='p-2 card'>\r\n                <div className='d-flex flex-row-reverse'>\r\n                    <button onClick={()=>{hideUnhide('delete-article-' + article.id, togglePopup)}} className='btn btn-outline-danger w-fit-content'><i className=\"fa-solid fa-trash fa-xl\"></i></button>\r\n                </div>\r\n                <div id={'delete-article-' + article.id} hidden>\r\n                    <strong className='px-3'>{ translate('Are you sure you want to delete this article ?') }</strong>\r\n                    <div className='d-flex flex-row-reverse gap-3 m-3'><button onClick={()=>{hideUnhide('delete-article-' + article.id, togglePopup) }} className='btn btn-outline-dark'>{ translate('No') }</button><button className='btn btn-danger' onClick={()=>deleteArticle(article.id)}>{ translate('Yes') }</button></div>\r\n                </div>\r\n                <hr></hr>\r\n                <Link to={link} className='cursor-pointer d-flex flex-row gap-2'>\r\n                    <button className='p-0 square overflow-hidden border rounded my-auto' style={{width: 100, height:100}}>\r\n                        <LazyImage src={article.main_image} className={`mb-0`} />\r\n                    </button>\r\n                    <div className='d-flex flex-column flex-grow-1 px-2'>\r\n                        <strong className='cut-text'>{article.brand_name} - { article.title }</strong>\r\n                        <div className='cut-text'>\r\n                            {article.price > 0 ? \r\n                                <span className='color-theme fw-bold'>{translate('Price')}: { article.price } { translate('Mi') }</span> : \r\n                                article.offered_price > 0 ? <span className='text-grey fw-bold'>{translate('Offered price')}: { article.offered_price } { translate('Mi') }</span > : \r\n                                    <span className='text-danger'>{ translate('No price') }</span>\r\n                            }\r\n                        </div>\r\n                        <div className='cut-text'><i className=\"fa-solid fa-location-dot fa-sm\"></i> <span className=''>{article.state_name}{article.city ? ', ' + article.city:''}</span></div>\r\n                        <div className='d-flex align-items-center gap-1 cut-text mt-1'>\r\n                            <strong className='small'> {article.likes_count} </strong><i className=' fa-solid fa-thumbs-up fa-sm'/>\r\n                            <strong className='small'> {article.views} </strong><i className=\"fa-solid fa-eye fa-sm\"></i>\r\n                        </div>\r\n                        <TimeElapsed className='small color-grey margin-inline-start-auto' time={article.created_at} />\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ArticleCard3","import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport axios from 'axios'\r\nimport ArticleCard3 from '../../Components/ArticleCard3'\r\nimport ArticleCard2Loading from '../../Components/ArticleCard2Loading'\r\nimport {UserContext} from '../../store/UserContext'\r\nimport {Message} from '../../Components/Message'\r\nimport { BrowserContext } from '../../store/BrowserContext'\r\nimport { TranslationContext } from '../../store/TranslationContext'\r\n\r\nconst YourArticles = () => {\r\n    const [articlesLoading, setArticlesLoading] = useState(true)\r\n    const [errorLoadingArticles, setErrorLoadingArticles] = useState(null)\r\n    const [data, setData] = useState([])\r\n    const [loadingDeleteArticle, setLoadingDeletingArticle] = useState(false)\r\n    const [errorDeletingArticle, setErrorDeletingArticle] = useState(null)\r\n    const [deleteArticleData, setDeleteArticleData] = useState(null)\r\n    const [articleToBeDeleted, setArticleToBeDeleted] = useState(null)\r\n\r\n    const seenArticles = useRef([])\r\n    const isNext = useRef(false)\r\n    const {userData} = useContext(UserContext)\r\n    const loadArticles = ()=>{\r\n        axios.post(`/api/dashboard/get-articles/`,\r\n        {'seen-articles' : JSON.stringify(seenArticles.current)},\r\n        {\r\n            headers : {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization : 'Bearer ' + userData.token\r\n            }\r\n        })\r\n        .then((response)=>{\r\n            setArticlesLoading(false)\r\n            isNext.current = response.data[1]\r\n            setData(prevState=>[...prevState, ...response.data[0]])\r\n        })\r\n        .catch((error)=>{\r\n            setArticlesLoading(false)\r\n            setErrorLoadingArticles(error)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n       loadArticles()\r\n    }, [])\r\n    const deleteArticle =(id)=>{\r\n        setArticleToBeDeleted(id)\r\n        setLoadingDeletingArticle(true)\r\n        axios.post(`/api/dashboard/delete-article/`,\r\n        {article_id: id},\r\n        {\r\n            headers : {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization : 'Bearer ' + userData.token\r\n            }\r\n        })\r\n        .then((response)=>{\r\n            setData(prevState=>prevState.filter(article=>article.id !== id ))\r\n            setLoadingDeletingArticle(false)\r\n            setArticleToBeDeleted(null)\r\n            setDeleteArticleData(response)\r\n        })\r\n        .catch((error)=>{\r\n            setLoadingDeletingArticle(false)\r\n            setErrorDeletingArticle(error)\r\n            setArticleToBeDeleted(null)\r\n        })\r\n    }\r\n    const {translate} = useContext(TranslationContext)\r\n    const {setTitle, setDescription} = useContext(BrowserContext)\r\n    useEffect(()=>{\r\n        setTitle(translate('Articles') + ` | ${translate('Ch7al Machya')}`) // Translate this\r\n        setDescription(translate('description'))\r\n    },[])\r\n    return (\r\n    <div className='bg-white d-flex flex-column'>\r\n        {errorDeletingArticle && <Message variant='danger' removeAlert={()=>{setErrorDeletingArticle(null)}} className='m-3'>{ errorDeletingArticle.response.data.detail || errorDeletingArticle.message }</Message>}\r\n        {deleteArticleData && <Message variant='success' removeAlert={()=>{setDeleteArticleData(null)}} className='m-3'>{ deleteArticleData.data.detail }</Message>}\r\n        <div className='py-3 d-flex px-1 d-flex flex-wrap'>\r\n        {data && data.map((article)=>{\r\n            seenArticles.current = [...seenArticles.current, article.id]\r\n            return <React.Fragment  key={article.id}>\r\n            <ArticleCard3 deleteArticle={deleteArticle} link={article.id + '/'} article={article} className={ articleToBeDeleted === article.id ? ' blur':'' }/>\r\n            </React.Fragment>\r\n        })}\r\n        {articlesLoading && Array.from({length: 20}, (_, x) => x).map((i)=>{return<ArticleCard2Loading addTop={true} key={i}/>})}\r\n        {data && data.length == 0 && isNext.current===false && articlesLoading===false && \r\n            <h4 className='m-auto my-4'>{translate('No Articles yet')}</h4>\r\n        }\r\n        </div> \r\n        {isNext.current &&\r\n            <button disabled={articlesLoading} className={`border ${ articlesLoading ? '' : 'border-black'} rounded-circle p-3 mb-3 mx-auto aspect-ratio-1 d-flex align-items-center`} onClick={()=>{setArticlesLoading(true); loadArticles()}}>\r\n            <i className=\"fa-solid fa-plus fa-2xl\"></i>\r\n            </button>\r\n        }\r\n    </div>\r\n    \r\n        \r\n    )\r\n\r\n}\r\n\r\nexport default YourArticles"],"names":["_ref","addTop","_jsx","className","style","minWidth","children","_jsxs","_Fragment","width","height","article","link","deleteArticle","language","togglePopup","useContext","BrowserContext","translate","TranslationContext","onClick","hideUnhide","id","hidden","Link","to","LazyImage","src","main_image","brand_name","title","price","offered_price","state_name","city","likes_count","views","TimeElapsed","time","created_at","YourArticles","articlesLoading","setArticlesLoading","useState","errorLoadingArticles","setErrorLoadingArticles","data","setData","loadingDeleteArticle","setLoadingDeletingArticle","errorDeletingArticle","setErrorDeletingArticle","deleteArticleData","setDeleteArticleData","articleToBeDeleted","setArticleToBeDeleted","seenArticles","useRef","isNext","userData","UserContext","loadArticles","axios","post","JSON","stringify","current","headers","Authorization","token","then","response","prevState","catch","error","useEffect","article_id","filter","setTitle","setDescription","concat","Message","variant","removeAlert","detail","message","map","React","ArticleCard3","Array","from","length","_","x","i","ArticleCard2Loading","disabled"],"sourceRoot":""}