"use strict";(self.webpackChunkfe=self.webpackChunkfe||[]).push([[224],{6224:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(2791),r=a(213),n=a(5294),l=a(2046),c=a(8255),o=a(2014),d=a(184);const h=()=>{const e=(0,t.useContext)(l._),[s,a]=(0,t.useState)(""),[h,i]=(0,t.useState)(""),[m,u]=(0,t.useState)(""),[p,x]=(0,t.useState)(!1),{userData:g}=(0,t.useContext)(r.S),{setGlobalMessage:w}=e,{translate:v}=(0,t.useContext)(c.O),{setTitle:N,setDescription:C}=(0,t.useContext)(l._);return(0,t.useEffect)((()=>{N(v("Change Password")+" | ".concat(v("Ch7al Machya"))),C(v("description"))}),[]),(0,d.jsx)("div",{className:"mw-700 container",children:(0,d.jsxs)("div",{className:"card m-3 pb-3",children:[(0,d.jsx)("h3",{className:"m-3",children:v("Change Password")}),(0,d.jsx)("div",{className:"m-3",children:(0,d.jsx)("input",{type:"password",className:"form-control",value:s,onChange:e=>a(e.target.value),placeholder:v("Current password")})}),(0,d.jsx)("div",{className:"m-3",children:(0,d.jsx)("input",{type:"password",className:"form-control",value:h,onChange:e=>{i(e.target.value)},placeholder:v("New password")})}),(0,d.jsx)("strong",{className:"text-danger mx-4",children:s.length>=8&&h.length<8?v("New password should have at least 8 characters"):""}),(0,d.jsx)("div",{className:"m-3",children:(0,d.jsx)("input",{type:"password",className:"form-control",value:m,onChange:e=>{u(e.target.value)},placeholder:v("Rewrite new password")})}),(0,d.jsx)("strong",{className:"text-danger mx-4",children:s.length>=8&&h.length>=8&&h!==m?v("Passwords Do not match"):""}),(0,d.jsx)("div",{className:"d-flex flex-row-reverse",children:(0,d.jsxs)("button",{onClick:()=>{x(!0),n.Z.post("/api/settings/change-password/",{current_password:s,new_password:h,confirm_password:m},{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+g.token}}).then((e=>{w({variant:"success",text:e.data.detail,className:"m-3"}),u(""),a(""),i(""),x(!1)})).catch((e=>{w({variant:"danger",text:e.response.data.detail||e.message,className:"m-3"}),x(!1)}))},disabled:!(s.length>=8&&h.length>=8&&h===m),className:"btn btn-success m-3 d-flex gap-2",children:[v("Change Password"),p&&(0,d.jsx)(o.a,{diam:23})]})})]})})}}}]);
//# sourceMappingURL=224.8e32fc8e.chunk.js.map