"use strict";(self.webpackChunkfe=self.webpackChunkfe||[]).push([[231],{1231:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var t=s(2791),l=s(213),n=s(8592),r=s(5294),c=s(2014),i=s(8255),o=s(184);const d=()=>{const{userData:e,setUserData:a}=(0,t.useContext)(l.S),s={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e.token)}},[d,m]=(0,t.useState)(e.page.website),[u,h]=(0,t.useState)(e.page.name),[x,p]=(0,t.useState)(!1),[g,f]=(0,t.useState)(!1),v=(0,t.useRef)(!1);v.current=e.page.website==d&&e.page.name==u;const{translate:j}=(0,t.useContext)(i.O);return(0,o.jsx)("div",{className:"col-12 p-2",children:(0,o.jsx)("div",{className:"card d-flex flex-column p-3",children:(0,o.jsx)("div",{className:"flex-grow-1",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("h4",{className:"mb-3 color-theme",children:j("Page information")}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"form-group col-sm-6 col-12",children:[(0,o.jsxs)("label",{htmlFor:"fullName",children:[j("Page Name"),"*"]}),(0,o.jsx)("input",{type:"text",className:"form-control",placeholder:j("Enter page name"),maxLength:50,value:u,onChange:e=>h(e.target.value)})]}),(0,o.jsxs)("div",{className:"form-group col-sm-6 col-12",children:[(0,o.jsx)("label",{children:"Website"}),(0,o.jsx)("input",{className:"form-control",placeholder:"www.website.com",maxLength:100,value:d||"",onChange:e=>m(e.target.value)})]}),g&&(0,o.jsx)(n.v,{removeAlert:()=>f(null),variant:"danger",className:"mt-3",children:g.response.data.detail||g.message}),(0,o.jsx)("div",{className:"mt-3",children:(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"d-flex flex-row-reverse",children:(0,o.jsxs)("button",{type:"button",id:"submit",name:"submit",className:"btn btn-success m-2 d-flex gap-2",onClick:async t=>{t.preventDefault(),p(!0);try{const{data:t}=await r.Z.put("/api/settings/update-page/",{name:u,website:d},s),l={...e,...t};a(l),localStorage.setItem("userData",JSON.stringify(l)),p(!1),f(null)}catch(g){p(!1),f(g),console.log(g)}},disabled:v.current||g||x,children:[(0,o.jsx)("span",{children:j("Update info")}),x&&(0,o.jsx)(c.a,{diam:23})]})})})})]})]})})})})}}}]);
//# sourceMappingURL=231.a5968468.chunk.js.map