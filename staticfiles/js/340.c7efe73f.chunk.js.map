{"version":3,"file":"static/js/340.c7efe73f.chunk.js","mappings":"wMAQA,MA4DA,EA5DuBA,KACrB,MAAMC,GAAWC,EAAAA,EAAAA,WACVC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,IAC7BC,GAAkBJ,EAAAA,EAAAA,QAAO,KACxBK,EAASC,IAAcH,EAAAA,EAAAA,WAAS,IAChCI,EAAMC,IAAWL,EAAAA,EAAAA,YAClBM,GAAWT,EAAAA,EAAAA,SAAO,IAclB,UAACU,IAAaC,EAAAA,EAAAA,YAAWC,EAAAA,IAGzB,SAACC,EAAQ,eAAEC,IAAkBH,EAAAA,EAAAA,YAAWI,EAAAA,GAK9C,OAJAC,EAAAA,EAAAA,YAAU,KACNH,EAASH,EAAU,oBAAmB,MAAAO,OAASP,EAAU,kBACzDI,EAAeJ,EAAU,eAAe,GAC1C,KAEAQ,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,UAC/BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iCAAiCG,IAAKvB,EAASqB,SAAA,EAC5DF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYC,SAAEV,EAAU,qEACxCH,IAAQW,EAAAA,EAAAA,KAACK,EAAAA,EAAO,CAACC,QAAQ,UAAUC,YAAaA,KAAKjB,EAAQ,KAAK,EAAEY,SAAGb,KACxEW,EAAAA,EAAAA,KAAA,SACIQ,KAAK,QACLC,YAAajB,EAAU,SACvBkB,MAAO3B,EACP4B,SAAWC,IAAK5B,EAAS4B,EAAEC,OAAOH,MAAM,EACxCI,UAAW,GACXb,UAAU,kBAEdD,EAAAA,EAAAA,KAAA,SAAOC,UAAU,2BAA2BG,IAAKlB,KACjDiB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qCAAoCC,SAAA,EAChDX,EAASwB,UAAWZ,EAAAA,EAAAA,MAAA,UAAQK,KAAK,SAASQ,SAAU7B,GAA0B,IAAfJ,EAAMkC,OAAaC,QApC7DC,KAC5B/B,GAAW,GACXgC,EAAAA,EAAMC,IAAI,uCAAyCtC,EAAO,CAAC,GAAGuC,MAAKC,IACjErC,EAAgB6B,QAAQS,UAAY,GACpClC,EAAQiC,EAASlC,KAAKoC,QACtBrC,GAAW,GACXG,EAASwB,SAAU,CAAI,IACtBW,OAAMC,IACPvC,GAAW,GACXE,EAAQ,MACRJ,EAAgB6B,QAAQS,UAAYG,EAAMJ,SAASlC,KAAKoC,QAAUE,EAAMC,OAAO,GAC/E,EAyBuH3B,UAAU,4DAA2DC,SAAA,EACtLF,EAAAA,EAAAA,KAAA,QAAAE,SAAOV,EAAU,cACfL,GAAUa,EAAAA,EAAAA,KAAC6B,EAAAA,EAAM,CAACC,KAAM,KAAQ,OAEpC9B,EAAAA,EAAAA,KAAC+B,EAAAA,GAAI,CAACC,GAAG,UAAS9B,UAClBF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,iEAAgEC,UAChFF,EAAAA,EAAAA,KAAA,QAAAE,SAAOV,EAAU,wBAMnB,C","sources":["Screens/ForgotPassword.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport { Loader } from '../Components/Loader'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { Message } from '../Components/Message'\r\nimport { TranslationContext } from '../store/TranslationContext'\r\nimport { BrowserContext } from '../store/BrowserContext'\r\n\r\nconst ForgotPassword = () => {\r\n  const emailRef = useRef()\r\n  const [email, setEmail] = useState('')\r\n  const emailMessageRef = useRef('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [data, setData] = useState()\r\n  const linkSent = useRef(false)\r\n  const sendVerificationToken = ()=>{\r\n    setLoading(true)\r\n    axios.get('/api/send-verification-token/?email=' + email, {}).then(response=>{\r\n      emailMessageRef.current.innerHTML = ''\r\n      setData(response.data.detail)\r\n      setLoading(false)\r\n      linkSent.current = true\r\n    }).catch(error=>{\r\n      setLoading(false)\r\n      setData(null)\r\n      emailMessageRef.current.innerHTML = error.response.data.detail || error.message\r\n    });\r\n  }\r\n  const {translate} = useContext(TranslationContext)\r\n  ////////////\r\n  //\r\n  const {setTitle, setDescription} = useContext(BrowserContext)\r\n  useEffect(()=>{\r\n      setTitle(translate('Forgot password?') + ` | ${translate('Ch7al Machya')}`)\r\n      setDescription(translate('description'))\r\n  },[])\r\n  return (\r\n    <div className='container mw-700'>\r\n      <div className='my-3 form-groupe card p-3 mt-5' ref={emailRef} >\r\n        <label className='form-label'>{translate('Please enter your email or username to search for your account.')}</label>\r\n        {data && <Message variant='success' removeAlert={()=>{setData(null)}} >{data}</Message>}\r\n        <input\r\n            type='email'\r\n            placeholder={translate('Email')}\r\n            value={email}\r\n            onChange={(e)=>{setEmail(e.target.value)}}\r\n            maxLength={50}\r\n            className='form-control'\r\n        />\r\n        <label className='mt-2 text-danger fw-bold' ref={emailMessageRef}></label>\r\n        <div className='d-flex flex-row-reverse mt-3 gap-3'>\r\n         {!linkSent.current && <button type='submit' disabled={loading || email.trim() ==''} onClick={sendVerificationToken} className='btn btn-success w-fit-content align-self-end d-flex gap-2' >\r\n            <span>{translate('Continue')}</span> \r\n            { loading ? <Loader diam={23}/> : ''}\r\n          </button>}\r\n          <Link to='/login/'>\r\n          <button className='btn btn-outline-dark w-fit-content align-self-end d-flex gap-2' >\r\n            <span>{translate('Go back')}</span> \r\n          </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    \r\n    </div>\r\n    \r\n  )\r\n}\r\n// disabled={isRegistrationDisabled} onClick={submitHandler}\r\nexport default ForgotPassword"],"names":["ForgotPassword","emailRef","useRef","email","setEmail","useState","emailMessageRef","loading","setLoading","data","setData","linkSent","translate","useContext","TranslationContext","setTitle","setDescription","BrowserContext","useEffect","concat","_jsx","className","children","_jsxs","ref","Message","variant","removeAlert","type","placeholder","value","onChange","e","target","maxLength","current","disabled","trim","onClick","sendVerificationToken","axios","get","then","response","innerHTML","detail","catch","error","message","Loader","diam","Link","to"],"sourceRoot":""}