"use strict";(self.webpackChunkfe=self.webpackChunkfe||[]).push([[645],{9645:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(2791),n=a(5294),l=a(213),c=a(2046),i=a(2014),r=a(8255),o=a(184);const d=()=>{const e=(0,s.useContext)(c._),[t,a]=(0,s.useState)(1),{userData:d,setUserData:u}=(0,s.useContext)(l.S),{setGlobalMessage:m}=e,[h,x]=(0,s.useState)(!1),{translate:b}=(0,s.useContext)(r.O),{setTitle:g,setDescription:f}=(0,s.useContext)(c._);return(0,s.useEffect)((()=>{g(b("Delete Account")+" | ".concat(b("Ch7al Machya"))),f(b("description"))}),[]),(0,o.jsx)("div",{className:"container mw-700 my-3",children:(0,o.jsxs)("div",{className:"card p-3",children:[1===t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h5",{className:"lh-base",children:b("Deleting your account is irreversable, are you sure you want to delete your account?")}),(0,o.jsx)("div",{className:"m-3 mb-0 text-end",children:(0,o.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>{a(2)},children:b("Continue")})})]}),2===t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h5",{className:"lh-lg",children:b("By clicking in the button below, your profile, your articles, your messages and any interction with other users will be deleted.")}),(0,o.jsxs)("div",{className:"m-3 d-flex justify-content-between",children:[(0,o.jsxs)("button",{className:"btn btn-danger d-flex",disabled:!!h,onClick:()=>{x(!0),n.Z.post("/api/settings/delete-account/",{},{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+d.token}}).then((e=>{m({variant:"success",text:e.data.detail,className:"m-3"}),x(!1),u({}),localStorage.removeItem("userData"),window.location="/login/"})).catch((e=>{m({variant:"danger",text:e.response.data.detail||e.message,className:"m-3"}),x(!1)}))},children:[b("Delete my account")," ",h?(0,o.jsx)(i.a,{diam:23,className:"mx-3"}):""]}),(0,o.jsx)("button",{className:"btn btn-outline-dark w-fit-content d-flex align-items-center gap-2",onClick:()=>{a(1)},children:b("Cancel")})]})]})]})})}}}]);
//# sourceMappingURL=645.e3391c03.chunk.js.map