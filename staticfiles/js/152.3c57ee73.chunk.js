"use strict";(self.webpackChunkfe=self.webpackChunkfe||[]).push([[152],{9152:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var a,n=s(168),l=s(2791),c=s(4457),i=s(5867),m=s(4164),r=s(5294),d=s(8592),o=(s(2014),s(213)),x=s(7689),u=s(1087),h=s(2046),p=s(1835),f=s(8255),g=s(184);const j=i.ZP.dialog(a||(a=(0,n.Z)(["\nmax-width: 800px;\nwidth: -webkit-fill-available;\nbackground-color: transparent;\nborder: none;\noutline: none;\n&>div{\n    min-height: 200px;\n}\n"]))),N=e=>{let{comment:t,setComments:s,setSelectedComment:a}=e;const[n,i]=(0,l.useState)(!1),[N,b]=(0,l.useState)(!1),v=(0,x.UO)().username.replace("@",""),C=(0,l.useRef)(),w=(0,l.useContext)(o.S).userData,k={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(w.token)}},{togglePopup:_,setReportData:y,Right:D}=(0,l.useContext)(h._),{language:E}=(0,l.useContext)(h._).browserData,{translate:R}=(0,l.useContext)(f.O),S=()=>a(null);return(0,l.useEffect)((()=>{C.current.showModal()}),[C]),(0,m.createPortal)((0,g.jsx)("div",{className:"m-auto",children:(0,g.jsx)(j,{ref:C,onClose:S,children:t&&(0,g.jsxs)("div",{className:"bg-color-white p-3 border rounded d-flex flex-column",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsxs)(u.rU,{to:"/@".concat(t.commenter_username,"/"),className:"d-flex align-items-center",children:[(0,g.jsx)("div",{className:"image-in-circle mx-2",style:{width:40,backgroundImage:"url('".concat(t.commenter_image,"')")}}),(0,g.jsxs)("div",{className:"d-flex flex-column",children:[(0,g.jsxs)("span",{children:[t.commenter_name.text||t.commenter_name," ",t.commenter_name.is_verified&&(0,g.jsx)("img",{width:"16",src:"/static/others/verified.png"})]}),(0,g.jsx)(p.Z,{className:"small text-grey",time:t.created_at,language:E})]})]}),(0,g.jsx)("button",{onClick:()=>{(0,c.Dd)("comment-".concat(t.id),_)},className:"btn btn-outline-success margin-inline-start-auto ",children:(0,g.jsx)("i",{className:"fa-solid fa-ellipsis fa-2xl"})})]}),(0,g.jsx)("p",{className:"mt-2 flex-grow-1",children:t.text}),(0,g.jsxs)("div",{className:"parameters bg-white border rounded",style:{[D]:30,top:80},hidden:!0,id:"comment-".concat(t.id),children:[t.commenter_id===w.id||w.username===v?n?(0,g.jsx)("div",{className:"p-3 d-flex",children:(0,g.jsx)("span",{className:"mx-1",children:R("Deleting comment...")})}):(0,g.jsxs)("div",{className:"p-3",onClick:()=>{i(!0),r.Z.post("/api/article/delete-comment/",{"comment-id":t.id},k).then((e=>{s((e=>e.filter((e=>e.id!==t.id)))),S(),i(!1)})).catch((e=>{b(e),i(!1),document.getElementById("comment-".concat(t.id)).setAttribute("hidden","")}))},children:[(0,g.jsx)("i",{className:"fa-solid fa-trash px-2 py-1 rounded mx-1"}),(0,g.jsx)("span",{className:"mx-1",children:R("Delete comment")})]}):"",(0,g.jsxs)("div",{className:"p-3",onClick:()=>{_(""),y({type:"Comment",comment_id:t.id})},children:[(0,g.jsx)("i",{className:"fa-solid fa-exclamation px-3 py-1 rounded  mx-1"}),(0,g.jsx)("span",{className:"mx-1",children:R("Report")})]})]}),(0,g.jsx)("div",{className:"mt-4",children:(0,g.jsx)("form",{method:"dialog",children:(0,g.jsx)("button",{className:"btn btn-outline-success px-4",children:R("Exit")})})}),N&&(0,g.jsx)(d.v,{removeAlert:()=>b(null),variant:"danger",className:"mt-5",children:N.message&&N.response.data.message})]})})}),document.getElementById("root"))}}}]);
//# sourceMappingURL=152.3c57ee73.chunk.js.map