{"version":3,"file":"static/js/645.e3391c03.chunk.js","mappings":"6LAMA,MAsEA,EAtEsBA,KAClB,MAAMC,GAAiBC,EAAAA,EAAAA,YAAWC,EAAAA,IAG3BC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,IAC3B,SAACC,EAAQ,YAAEC,IAAeN,EAAAA,EAAAA,YAAWO,EAAAA,IACrC,iBAACC,GAAoBT,GACpBU,EAASC,IAAcN,EAAAA,EAAAA,WAAS,IAgCjC,UAACO,IAAWX,EAAAA,EAAAA,YAAWY,EAAAA,IACvB,SAACC,EAAQ,eAAEC,IAAkBd,EAAAA,EAAAA,YAAWC,EAAAA,GAKhD,OAJEc,EAAAA,EAAAA,YAAU,KACNF,EAASF,EAAU,kBAAiB,MAAAK,OAASL,EAAU,kBACvDG,EAAeH,EAAU,eAAe,GAC1C,KAEFM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBC,UAClCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,WAAUC,SAAA,CACX,IAATjB,IACGkB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAF,SAAA,EACIF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,UAASC,SAAER,EAAU,2FACnCM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,UAC9BF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,yBAAyBI,QAASA,KAAKnB,EAAQ,EAAE,EAAEgB,SAAER,EAAU,mBAInF,IAATT,IACGkB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAF,SAAA,EACIF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,QAAOC,SAAER,EAAU,uIACjCS,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qCAAoCC,SAAA,EAC/CC,EAAAA,EAAAA,MAAA,UAAQF,UAAU,wBAAwBK,WAAUd,EAAwBa,QApD3EE,KACjBd,GAAW,GACXe,EAAAA,EAAMC,KACF,gCACA,CACA,EACA,CACEC,QAAU,CACR,eAAgB,sBAChBC,cAAgB,UAAYvB,EAASwB,SAExCC,MAAKC,IACJvB,EAAiB,CACfwB,QAAU,UACVC,KAAOF,EAASG,KAAKC,OACrBjB,UAAY,QAEdR,GAAW,GACXJ,EAAY,CAAC,GACb8B,aAAaC,WAAW,YACxBC,OAAOC,SAAW,SAAS,IAE9BC,OAAMC,IACLjC,EAAiB,CACfwB,QAAU,SACVC,KAAOQ,EAAMV,SAASG,KAAKC,QAAUM,EAAMC,QAC3CxB,UAAY,QAEdR,GAAW,EAAM,GACjB,EAuB+GS,SAAA,CAAER,EAAU,qBAAqB,IAAGF,GAAUQ,EAAAA,EAAAA,KAAC0B,EAAAA,EAAM,CAACC,KAAM,GAAI1B,UAAW,SAAkB,OAChMD,EAAAA,EAAAA,KAAA,UAAQC,UAAU,qEAAqEI,QAASA,KAAKnB,EAAQ,EAAE,EAAEgB,SAAGR,EAAU,sBAK5I,C","sources":["Screens/settings/DeleteAccount.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { UserContext } from '../../store/UserContext'\r\nimport { BrowserContext } from '../../store/BrowserContext'\r\nimport { Loader } from '../../Components/Loader'\r\nimport { TranslationContext } from '../../store/TranslationContext'\r\nconst DeleteAccount = () => {\r\n    const browserContext = useContext(BrowserContext)\r\n    ///////////////////////////////////\r\n    //\r\n    const [step, setStep] = useState(1)\r\n    const {userData, setUserData} = useContext(UserContext)\r\n    const {setGlobalMessage} = browserContext\r\n    const [loading, setLoading] = useState(false)\r\n    const deleteAccount =()=>{\r\n        setLoading(true)\r\n        axios.post(\r\n            '/api/settings/delete-account/',\r\n            {\r\n            },\r\n            {\r\n              headers : {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n                Authorization : 'Bearer ' + userData.token\r\n              }\r\n          }).then(response=>{\r\n              setGlobalMessage({\r\n                variant : 'success',\r\n                text : response.data.detail,\r\n                className : 'm-3'\r\n              })\r\n              setLoading(false)\r\n              setUserData({})\r\n              localStorage.removeItem('userData')\r\n              window.location = '/login/'\r\n          })\r\n          .catch(error=>{\r\n            setGlobalMessage({\r\n              variant : 'danger',\r\n              text : error.response.data.detail || error.message,\r\n              className : 'm-3'\r\n            })\r\n            setLoading(false)\r\n          })\r\n    }\r\n    const {translate}=useContext(TranslationContext)\r\n    const {setTitle, setDescription} = useContext(BrowserContext)\r\n    useEffect(()=>{\r\n        setTitle(translate('Delete Account') + ` | ${translate('Ch7al Machya')}`) // Translate this\r\n        setDescription(translate('description'))\r\n    },[])\r\n  return (\r\n    <div className='container mw-700 my-3'>\r\n        <div className='card p-3'>\r\n            {step === 1 && \r\n                <>\r\n                    <h5 className='lh-base'>{translate('Deleting your account is irreversable, are you sure you want to delete your account?')}</h5>\r\n                    <div className='m-3 mb-0 text-end'>\r\n                        <button className='btn btn-outline-danger' onClick={()=>{setStep(2)}}>{translate('Continue')}</button>\r\n                    </div>\r\n                </>\r\n            }\r\n            {step === 2 && \r\n                <>\r\n                    <h5 className='lh-lg'>{translate('By clicking in the button below, your profile, your articles, your messages and any interction with other users will be deleted.')}</h5>\r\n                    <div className='m-3 d-flex justify-content-between'>\r\n                        <button className='btn btn-danger d-flex' disabled={loading ? true : false} onClick={deleteAccount}>{translate('Delete my account')} { loading ? <Loader diam={23} className={'mx-3'}></Loader>:'' }</button>\r\n                        <button className='btn btn-outline-dark w-fit-content d-flex align-items-center gap-2' onClick={()=>{setStep(1)}} >{translate('Cancel')}</button>\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DeleteAccount"],"names":["DeleteAccount","browserContext","useContext","BrowserContext","step","setStep","useState","userData","setUserData","UserContext","setGlobalMessage","loading","setLoading","translate","TranslationContext","setTitle","setDescription","useEffect","concat","_jsx","className","children","_jsxs","_Fragment","onClick","disabled","deleteAccount","axios","post","headers","Authorization","token","then","response","variant","text","data","detail","localStorage","removeItem","window","location","catch","error","message","Loader","diam"],"sourceRoot":""}