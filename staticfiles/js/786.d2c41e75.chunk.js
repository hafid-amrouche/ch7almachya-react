"use strict";(self.webpackChunkfe=self.webpackChunkfe||[]).push([[786],{5786:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(2791),n=a(5294),c=a(7689),l=a(1087),m=a(1835),i=a(2046),r=a(8255),d=a(4457),o=a(213),x=a(8592),u=a(184);const p=()=>{const{commentId:e}=(0,c.UO)(),[s,a]=(0,t.useState)(null),{language:p,togglePopup:h,Right:g,openReportModal:f}=(0,t.useContext)(i._),{translate:j}=(0,t.useContext)(r.O),{userData:N}=(0,t.useContext)(o.S),v=(0,c.UO)().username.replace("@",""),[b,_]=(0,t.useState)(!1),[k,C]=(0,t.useState)(null),[w,y]=(0,t.useState)(""),D=(0,c.s0)();return(0,t.useEffect)((()=>{n.Z.get("/api/article/get-comment/?comment_id="+e,{}).then((e=>{a(e.data[0]),y(e.data[1])}))}),[]),(0,u.jsx)("div",{className:"container mw-700 p-0",children:(0,u.jsx)("div",{className:"card overflow-visible m-2 m-md-3",children:s&&(0,u.jsxs)("div",{className:"bg-color-white p-3 border rounded d-flex flex-column",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsxs)(l.rU,{to:"/@".concat(s.commenter_username,"/"),className:"d-flex align-items-center",children:[(0,u.jsx)("div",{className:"image-in-circle mx-2",style:{width:40,backgroundImage:"url('".concat(s.commenter_image,"')")}}),(0,u.jsxs)("div",{className:"d-flex flex-column",children:[(0,u.jsxs)("span",{children:[s.commenter_name.text||s.commenter_name," ",s.commenter_name.is_verified&&(0,u.jsx)("img",{width:"16",src:"/static/others/verified.png"})]}),(0,u.jsx)(m.Z,{className:"small text-grey",time:s.created_at,language:p})]})]}),(0,u.jsx)("button",{onClick:()=>{(0,d.Dd)("comment-".concat(s.id),h)},className:"btn btn-outline-success margin-inline-start-auto ",children:(0,u.jsx)("i",{className:"fa-solid fa-ellipsis fa-2xl"})})]}),(0,u.jsx)("p",{className:"mt-2 flex-grow-1",children:s.text}),(0,u.jsxs)("div",{className:"parameters bg-white border rounded",style:{[g]:30,top:80},hidden:!0,id:"comment-".concat(s.id),children:[s.commenter_id===N.id||N.username===v?b?(0,u.jsx)("div",{className:"p-3 d-flex",children:(0,u.jsx)("span",{className:"mx-1",children:j("Deleting comment...")})}):(0,u.jsxs)("div",{className:"p-3",onClick:()=>{_(!0),n.Z.post("/api/article/delete-comment/",{"comment-id":e},{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+N.token}}).then((e=>{_(!1),D(w)})).catch((e=>{C(e),_(!1),document.getElementById("comment-".concat(s.id)).setAttribute("hidden","")}))},children:[(0,u.jsx)("i",{className:"fa-solid fa-trash px-2 py-1 rounded mx-1"}),(0,u.jsx)("span",{className:"mx-1",children:j("Delete comment")})]}):"",(0,u.jsxs)("div",{className:"p-3",onClick:()=>{h(""),f.current.setData({type:"Comment",comment_id:s.id}),f.current.openPopUp()},children:[(0,u.jsx)("i",{className:"fa-solid fa-exclamation px-3 py-1 rounded  mx-1"}),(0,u.jsx)("span",{className:"mx-1",children:j("Report")})]})]}),(0,u.jsx)("div",{className:"mt-4",children:(0,u.jsx)(l.rU,{to:w,className:"btn btn-outline-success px-4",children:j("Go back")})}),k&&(0,u.jsx)(x.v,{removeAlert:()=>C(null),variant:"danger",className:"mt-5",children:k.message&&k.response.data.message})]})})})}}}]);
//# sourceMappingURL=786.d2c41e75.chunk.js.map