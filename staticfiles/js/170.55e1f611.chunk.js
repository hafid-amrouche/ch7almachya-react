"use strict";(self.webpackChunkfe=self.webpackChunkfe||[]).push([[170],{8170:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a,r=n(168),s=n(2791),l=n(5867),o=n(4164),i=n(5294),c=n(213),d=n(2014),u=(n(6654),n(8592)),h=n(7689),m=n(8255),p=n(184);const x=l.ZP.dialog(a||(a=(0,r.Z)(["\nmax-width: 800px;\nwidth: -webkit-fill-available;\nbackground-color: transparent;\nborder: none;\noutline: none;\n&:-internal-dialog-in-top-layer::backdrop {\n    background: rgba(0, 0, 0, 0.9);\n}\n"]))),b=e=>{let{reportData:t,setReportData:n}=e;const[a,r]=(0,s.useState)(!1),[l,b]=(0,s.useState)(!1),[f,w]=(0,s.useState)(null),g=(0,s.useRef)(),v=()=>{n(null)},j=(0,s.useContext)(c.S).userData,k={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(j.token)}},y=(0,s.useRef)(!1),N=(0,h.s0)(),C=(0,h.TH)(),{translate:A}=(0,s.useContext)(m.O);return(0,s.useEffect)((()=>(g.current.showModal(),v)),[]),(0,o.createPortal)((0,p.jsx)("div",{className:"m-auto",children:(0,p.jsx)(x,{ref:g,onClose:v,children:(0,p.jsxs)("div",{className:"bg-color-white p-3 border rounded",children:[f&&(0,p.jsxs)(u.v,{variant:"success",removeAlert:()=>w(null),children:[" ",f.detail," "]}),l&&(0,p.jsxs)(u.v,{variant:"danger",removeAlert:()=>b(null),children:[" ",l.response.data.detail||l.message," "]}),!j.id&&(0,p.jsxs)("h5",{className:"mb-3 d-flex",children:[A("If you want to report this")," ",t&&A(t.type)," ",A("you have to login. Click here")]}),!y.current&&j.id&&(0,p.jsxs)("h4",{className:"mb-3",children:[A("Are you sure you want to report this")," ",t&&A(t.type)," ",A("?")]}),j.id&&(0,p.jsxs)("p",{className:"lh-lg",children:[A("We will review the")," ",t&&A(t.type)," ",A("you reported, and we will notify you when it is done, if we find that the user has broken our guilines he will be submitted to paneties and can even go to close his account."),(0,p.jsx)("br",{}),A("Thank you for making Ch7al machya a safer place.")]}),(0,p.jsx)("div",{className:"mt-4",children:(0,p.jsxs)("form",{method:"dialog",className:"d-flex gap-4 flex-row-reverse w-100",children:[!y.current&&j.id&&(0,p.jsxs)("button",{disabled:a,className:"btn btn-danger px-3 d-flex gap-3",onClick:()=>{r(!0),i.Z.post("/api/report/",{...t},k).then((e=>{y.current=!0,w(e.data),r(!1)})).catch((e=>{y.current=!0,b(e),r(!1)}))},children:[A("Report")," ",a&&(0,p.jsx)(d.a,{diam:23,className:"color-white"})]}),!y.current&&j.id&&(0,p.jsx)("button",{className:"btn btn-outline-dark px-3",children:A("Cancel")}),(y.current||!j.id)&&(0,p.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(y.current||!j.id)&&(0,p.jsx)("button",{className:"btn btn-outline-success px-4",onClick:e=>{e.preventDefault(),y.current=!1,w(null),b(null),v()},children:A("Exit")}),!j.id&&(0,p.jsx)("button",{onClick:()=>{v(),N("/login/?redirect="+C.pathname)},className:"btn btn-success",children:A("Login")})]})]})})]})})}),document.getElementById("root"))}},6654:(e,t,n)=>{n.d(t,{Z:()=>r});n(2791);var a=n(184);const r=e=>{let{rows:t,value:n,...r}=e;return(0,a.jsx)("textarea",{rows:(()=>{const e=(n.match(/\n/g)||[]).length+1,a=t;return Math.min(Math.max(e,a),6)})(),style:{resize:"none"},value:n,...r})}}}]);
//# sourceMappingURL=170.55e1f611.chunk.js.map