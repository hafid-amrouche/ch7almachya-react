{"version":3,"file":"static/js/417.a89e27a5.chunk.js","mappings":"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","sources":["Screens/user/UserProfile/SocialMediaCard.js","Screens/user/UserAbout.js"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst SocialMediaCard = ({socialLink, iconClass, username}) => {\r\n  return (\r\n    socialLink &&\r\n    <div className='d-flex py-3 border-bottom align-items-center px-3 d-flex gap-2'>\r\n        <i className={`${iconClass} fa-2xl color-theme`}/><h4>/</h4>\r\n        <span><Link target=\"_blank\" to={socialLink} className='btn btn-success px-2 mw-100 overflow-hidden'><div className='overflow-hidden'>{username}</div></Link></span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SocialMediaCard","import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport { UserContext } from '../../store/UserContext'\r\nimport axios from 'axios'\r\nimport { useParams } from 'react-router-dom'\r\nimport {Loader} from '../../Components/Loader'\r\nimport { BrowserContext } from '../../store/BrowserContext'\r\nimport SocialMediaCard from './UserProfile/SocialMediaCard'\r\nimport {TranslationContext} from '../../store/TranslationContext'\r\n\r\nconst UserAbout = () => {\r\n    const {userData} = useContext(UserContext)\r\n    const [ratingLoading, setRatingLoading] = useState(false)\r\n    const [loading, setLoading] = useState(true)\r\n    const [data, setData] = useState(null)\r\n    const username = useParams().username.replace('@', '')\r\n    const [sellerRating, setSellerRating] = useState(null)\r\n    const [reviewsCount, setReviewsCount] = useState(null)\r\n    const [rateSellerInput, setRateSellerInput] = useState(50)\r\n\r\n    const [isUserRated, setIsUserRated] = useState(false)\r\n    const prevRating = useRef(null)\r\n    useEffect(()=>{\r\n        axios.get(\r\n            '/api/user/get-user-about/?username=' + username,\r\n            {\r\n                headers : {\r\n                  \"Content-Type\": \"multipart/form-data\",\r\n                  \"Authorization\" : userData.id ? 'Bearer ' + userData.token : ''\r\n                }\r\n            }).then(response=>{\r\n                setData(response.data)\r\n                setSellerRating(Number(response.data.seller_rating))\r\n                setReviewsCount(Number(response.data.reviews_count))\r\n                setIsUserRated(response.data.is_user_rated)\r\n                setRateSellerInput(response.data.user_rate)\r\n                response.data.is_user_rated && (prevRating.current =  Number(response.data.user_rate))\r\n                setLoading(false)\r\n            }).catch(()=>{\r\n                setLoading(false)\r\n            }, [])\r\n    }, []) \r\n\r\n    const addReview = ()=>{\r\n        setRatingLoading(true)\r\n        axios.post(\r\n            '/api/user/add-review/',\r\n            {\r\n                rating : rateSellerInput,\r\n                username: username\r\n            }\r\n            ,{\r\n                headers : {\r\n                  \"Content-Type\": \"multipart/form-data\",\r\n                  \"Authorization\" : userData.id ? 'Bearer ' + userData.token : ''\r\n                }\r\n            }).then(response=>{\r\n                const rating = Number(response.data.rating)\r\n                if(isUserRated){\r\n                    setSellerRating(prev =>{\r\n                        prev = prev + (rating - prevRating.current)/reviewsCount\r\n                        prevRating.current =  Number(rating)\r\n                        return prev\r\n                    })\r\n                }else{\r\n                    setSellerRating(prev =>{\r\n                        prev = (( prev * reviewsCount ) + rating)/ (reviewsCount + 1)\r\n                        prevRating.current =  Number(rating)\r\n                        return prev\r\n                    })\r\n                    setReviewsCount(prev => prev+1)\r\n                }\r\n                \r\n                setRateSellerInput(rating)\r\n                setIsUserRated(true)\r\n                setRatingLoading(false)\r\n            }).catch(error=>{\r\n                setRatingLoading(false)\r\n            })\r\n    } \r\n    const {S} = useContext(BrowserContext)\r\n    const {translate} = useContext(TranslationContext)\r\n    return (\r\n    <div className='d-flex flex-wrap my-4'>\r\n        { loading ? \r\n            <Loader diam={100} className='color-theme my-5 m-auto' />:\r\n            data && <>  \r\n                <div className=\"p-2 col-12 col-md-6\">\r\n                    <div className='bg-color-white rounded overflow-hidden border px-3'>\r\n                        {Object.entries(data.info_section).map(([key, value]) => {\r\n                            if (value){\r\n                                return (\r\n                                    <div key={key} className='d-flex py-3 border-bottom gap-2'>\r\n                                        <strong style={{minWidth: 100}}>{key}</strong><span className='col-8'>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                                \r\n                        })}\r\n                        <SocialMediaCard socialLink ={ data.socials.website ? ('https://' + data.socials.website) : null} iconClass={'fa-solid fa-globe'} username={data.socials.website} />\r\n                        <SocialMediaCard socialLink ={ data.socials.facebook ? ('https://www.facebook.com/' + data.socials.facebook) : null} iconClass={'fa-brands fa-square-facebook'} username={data.socials.facebook} />\r\n                        <SocialMediaCard socialLink ={ data.socials.instagram ? ('https://www.instagram.com/' + data.socials.instagram) : null} iconClass={'fa-brands fa-square-instagram'} username={data.socials.instagram} />\r\n                        <SocialMediaCard socialLink ={ data.socials.tiktok ? ('https://www.tiktok.com/' + data.socials.tiktok) : null} iconClass={'fa-brands fa-tiktok'} username={data.socials.tiktok} />\r\n                        <SocialMediaCard socialLink ={ data.socials.youtube ? ('https://www.youtube.com/' + data.socials.youtube) : null} iconClass={'fa-brands fa-square-youtube'} username={data.socials.youtube} />\r\n                        <SocialMediaCard socialLink ={ data.socials.twitter ? ('https://www.twitter.com/' + data.socials.twitter) : null} iconClass={'fa-brands fa-square-x-twitter'} username={data.socials.twitter} />\r\n                        <SocialMediaCard socialLink ={ data.socials.linkedin ? ('https://www.linkedin.com/' + data.socials.linkedin) : null} iconClass={'fa-brands fa-linkedin'} username={data.socials.linkedin} />\r\n                            \r\n                    </div>\r\n                </div>\r\n                <div className=\"p-2 col-12 col-md-6 mw-900\">\r\n                    <div className='m-auto bg-color-white rounded overflow-hidden border p-3'>\r\n                        <div className='mt-3'>\r\n                            <div style={{fontSize: 30}}>{translate('Reviews')} ({ reviewsCount })</div>\r\n                            <div className='text-center' style={{fontSize: 80}}>{sellerRating != null ? sellerRating.toFixed(2) + '%' : '-' }</div>\r\n                        </div>\r\n                        { userData.id &&\r\n                            <>\r\n                                <hr/>\r\n                                <h5 className='mt-3'>{isUserRated ? translate('You rating is') : translate('Rate seller')}</h5>\r\n                                <div className=' d-flex gap-2 align-items-center flex-wrap mt-3'>\r\n                                <h5 style={{width: 50}} className='d-inline text-center'>{rateSellerInput} %</h5>\r\n                                    <input type='range' step={10} min={0} max={100} onChange={(e)=>setRateSellerInput(e.target.value)} value={rateSellerInput} maxLength={3} className=\"text-center border outline-0 flex-grow-1\"/> \r\n                                    <button disabled={prevRating.current == rateSellerInput} className='d-flex gap-2 btn btn-outline-success ' onClick={addReview}>{ isUserRated ? translate(\"Update Rating\") : translate(\"Rate\")} { ratingLoading && <Loader diam={25} />}</button>\r\n                                </div>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            \r\n            </>\r\n        }\r\n                \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserAbout"],"names":["_ref","socialLink","iconClass","username","_jsxs","className","children","_jsx","concat","Link","target","to","UserAbout","userData","useContext","UserContext","ratingLoading","setRatingLoading","useState","loading","setLoading","data","setData","useParams","replace","sellerRating","setSellerRating","reviewsCount","setReviewsCount","rateSellerInput","setRateSellerInput","isUserRated","setIsUserRated","prevRating","useRef","useEffect","axios","get","headers","id","token","then","response","Number","seller_rating","reviews_count","is_user_rated","user_rate","current","catch","S","BrowserContext","translate","TranslationContext","Loader","diam","_Fragment","Object","entries","info_section","map","key","value","style","minWidth","SocialMediaCard","socials","website","facebook","instagram","tiktok","youtube","twitter","linkedin","fontSize","toFixed","width","type","step","min","max","onChange","e","maxLength","disabled","onClick","addReview","post","rating","prev","error"],"sourceRoot":""}