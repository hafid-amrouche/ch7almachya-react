{"version":3,"file":"static/js/224.8e32fc8e.chunk.js","mappings":"6LAOA,MAyEA,EAzEuBA,KACnB,MAAMC,GAAiBC,EAAAA,EAAAA,YAAWC,EAAAA,IAG3BC,EAAiBC,IAAsBC,EAAAA,EAAAA,UAAS,KAChDC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,KACxCG,EAAiBC,IAAsBJ,EAAAA,EAAAA,UAAS,KAChDK,EAASC,IAAcN,EAAAA,EAAAA,WAAS,IACjC,SAACO,IAAYX,EAAAA,EAAAA,YAAWY,EAAAA,IACxB,iBAACC,GAAoBd,GAmCrB,UAACe,IAAad,EAAAA,EAAAA,YAAWe,EAAAA,IACzB,SAACC,EAAQ,eAAEC,IAAkBjB,EAAAA,EAAAA,YAAWC,EAAAA,GAKhD,OAJEiB,EAAAA,EAAAA,YAAU,KACNF,EAASF,EAAU,mBAAkB,MAAAK,OAASL,EAAU,kBACxDG,EAAeH,EAAU,eAAe,GAC1C,KAEFM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,UAC7BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gBAAeC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,MAAKC,SAAER,EAAU,sBAC/BM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAChBF,EAAAA,EAAAA,KAAA,SAAOI,KAAK,WAAYH,UAAU,eAAeI,MAAOvB,EAAiBwB,SAAWC,GAAIxB,EAAmBwB,EAAEC,OAAOH,OAAQI,YAAaf,EAAU,yBAEvJM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAChBF,EAAAA,EAAAA,KAAA,SAAOI,KAAK,WAAYH,UAAU,eAAeI,MAAOpB,EAAaqB,SAAWC,IAAKrB,EAAeqB,EAAEC,OAAOH,MAAM,EAAGI,YAAaf,EAAU,qBAEjJM,EAAAA,EAAAA,KAAA,UAAQC,UAAU,mBAAkBC,SAAGpB,EAAgB4B,QAAU,GAAKzB,EAAYyB,OAAQ,EAAIhB,EAAU,kDAAoD,MAC5JM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAChBF,EAAAA,EAAAA,KAAA,SAAOI,KAAK,WAAYH,UAAU,eAAeI,MAAOlB,EAAiBmB,SAAWC,IAAKnB,EAAmBmB,EAAEC,OAAOH,MAAM,EAAGI,YAAaf,EAAU,6BAEzJM,EAAAA,EAAAA,KAAA,UAAQC,UAAU,mBAAkBC,SAAGpB,EAAgB4B,QAAU,GAAKzB,EAAYyB,QAAS,GAAKzB,IAAgBE,EAAmBO,EAAU,0BAA4B,MACzKM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,UACpCC,EAAAA,EAAAA,MAAA,UAAQQ,QAxDGC,KACnBtB,GAAW,GACXuB,EAAAA,EAAMC,KACJ,iCACA,CACEC,iBAAiBjC,EACjBkC,aAAa/B,EACbgC,iBAAiB9B,GAEnB,CACE+B,QAAU,CACR,eAAgB,sBAChBC,cAAgB,UAAY5B,EAAS6B,SAExCC,MAAKC,IACJ7B,EAAiB,CACf8B,QAAU,UACVC,KAAOF,EAASG,KAAKC,OACrBzB,UAAY,QAEdb,EAAmB,IACnBL,EAAmB,IACnBG,EAAe,IACfI,GAAW,EAAM,IAEpBqC,OAAMC,IACLnC,EAAiB,CACf8B,QAAU,SACVC,KAAOI,EAAMN,SAASG,KAAKC,QAAUE,EAAMC,QAC3C5B,UAAY,QAEdX,GAAW,EAAM,GACjB,EAwBuCwC,WAAahD,EAAgB4B,QAAU,GAAKzB,EAAYyB,QAAU,GAAKzB,IAAgBE,GAAmBc,UAAU,mCAAkCC,SAAA,CAAER,EAAU,mBAAqBL,IAAWW,EAAAA,EAAAA,KAAC+B,EAAAA,EAAM,CAACC,KAAM,cAGvP,C","sources":["Screens/settings/ChangePassword.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport { UserContext } from '../../store/UserContext'\r\nimport axios from 'axios'\r\nimport { BrowserContext } from '../../store/BrowserContext'\r\nimport {TranslationContext} from '../../store/TranslationContext'\r\nimport { Loader } from '../../Components/Loader'\r\n\r\nconst ChangePassword = () => {\r\n    const browserContext = useContext(BrowserContext)\r\n    ///////////////////////////////////\r\n    //\r\n    const [currentPassword, setCurrentPassword] = useState('') \r\n    const [newPassword, setNewPassword] = useState('') \r\n    const [confirmPassword, setConfirlPassword] = useState('') \r\n    const [loading, setLoading] = useState(false)\r\n    const {userData} = useContext(UserContext)\r\n    const {setGlobalMessage} = browserContext\r\n    const changePassword  =()=>{ \r\n        setLoading(true)\r\n        axios.post(\r\n          '/api/settings/change-password/',\r\n          {\r\n            current_password:currentPassword,\r\n            new_password:newPassword,\r\n            confirm_password:confirmPassword\r\n          },\r\n          {\r\n            headers : {\r\n              \"Content-Type\": \"multipart/form-data\",\r\n              Authorization : 'Bearer ' + userData.token\r\n            }\r\n        }).then(response=>{\r\n            setGlobalMessage({\r\n              variant : 'success',\r\n              text : response.data.detail,\r\n              className : 'm-3'\r\n            })\r\n            setConfirlPassword('')\r\n            setCurrentPassword('')\r\n            setNewPassword('')\r\n            setLoading(false)\r\n        })\r\n        .catch(error=>{\r\n          setGlobalMessage({\r\n            variant : 'danger',\r\n            text : error.response.data.detail || error.message,\r\n            className : 'm-3'\r\n          })\r\n          setLoading(false)\r\n        })\r\n    }\r\n    const {translate} = useContext(TranslationContext)\r\n    const {setTitle, setDescription} = useContext(BrowserContext)\r\n    useEffect(()=>{\r\n        setTitle(translate('Change Password') + ` | ${translate('Ch7al Machya')}`) // Translate this\r\n        setDescription(translate('description'))\r\n    },[])\r\n  return (\r\n    <div className='mw-700 container'>\r\n        <div className='card m-3 pb-3'>\r\n            <h3 className='m-3'>{translate('Change Password')}</h3>\r\n            <div className='m-3'>\r\n                <input type='password'  className='form-control' value={currentPassword} onChange={(e)=>setCurrentPassword(e.target.value)} placeholder={translate('Current password')}></input>\r\n            </div>\r\n            <div className='m-3'>\r\n                <input type='password'  className='form-control' value={newPassword} onChange={(e)=>{setNewPassword(e.target.value)}} placeholder={translate('New password')}></input>\r\n            </div>\r\n            <strong className='text-danger mx-4'>{ currentPassword.length >= 8 && newPassword.length <8 ? translate('New password should have at least 8 characters') : '' }</strong>\r\n            <div className='m-3'>\r\n                <input type='password'  className='form-control' value={confirmPassword} onChange={(e)=>{setConfirlPassword(e.target.value)}} placeholder={translate('Rewrite new password')}></input>\r\n            </div>\r\n            <strong className='text-danger mx-4'>{ currentPassword.length >= 8 && newPassword.length >=8 && newPassword !== confirmPassword  ? translate('Passwords Do not match') : '' }</strong>\r\n            <div className='d-flex flex-row-reverse'>\r\n                <button onClick={changePassword} disabled={ !(currentPassword.length >= 8 && newPassword.length >= 8 && newPassword === confirmPassword) } className='btn btn-success m-3 d-flex gap-2'>{translate('Change Password')}{ loading && <Loader diam={23}/>}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChangePassword"],"names":["ChangePassword","browserContext","useContext","BrowserContext","currentPassword","setCurrentPassword","useState","newPassword","setNewPassword","confirmPassword","setConfirlPassword","loading","setLoading","userData","UserContext","setGlobalMessage","translate","TranslationContext","setTitle","setDescription","useEffect","concat","_jsx","className","children","_jsxs","type","value","onChange","e","target","placeholder","length","onClick","changePassword","axios","post","current_password","new_password","confirm_password","headers","Authorization","token","then","response","variant","text","data","detail","catch","error","message","disabled","Loader","diam"],"sourceRoot":""}