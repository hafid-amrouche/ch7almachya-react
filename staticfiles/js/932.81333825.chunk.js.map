{"version":3,"file":"static/js/932.81333825.chunk.js","mappings":"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","sources":["Screens/Search/SearchUsers/UI/UserCard.js","Screens/Search/SearchUsers/SearchUsers.js"],"sourcesContent":["import React from 'react'\r\nimport { Avatar } from '../../../../StyledComponents';\r\nimport styled from 'styled-components';\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nconst CardItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ddd;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: var(--light-theme) !important;\r\n  }\r\n`;\r\nconst UserCard = ({user}) => {\r\n  return (\r\n    <Link to={`/@${user.username}/`}>\r\n      <CardItem>\r\n          <Avatar src={user.image_150} />\r\n          <div className='flex-grow-1 d-flex flex-column'>\r\n              <strong>{user.name}</strong>\r\n              <div className='d-flex align-items-center gap-2'>\r\n                  <p className='mb-0 small fw-bold text-grey'>@{user.username}</p>\r\n                  <p className='mb-0 fw-bold color-theme px-1'>{true ? '#' + 5 : ''}</p>\r\n              </div>\r\n          </div>\r\n      </CardItem>\r\n    </Link>\r\n      \r\n  )\r\n}\r\n\r\nexport default UserCard","import axios from 'axios'\r\nimport React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport { transformTextToWords } from '../../../utils'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { Loader } from '../../../Components/Loader'\r\nimport UserCard from './UI/UserCard'\r\nimport { TranslationContext } from '../../../store/TranslationContext'\r\nimport { BrowserContext } from '../../../store/BrowserContext'\r\n\r\nconst SearchUsers = () => {\r\n    const isNext = useRef(false)\r\n    const [users, setUsers] = useState([])\r\n    const seenUsers = useRef([])\r\n    const [loadingUsers, setLoadingUsers] = useState(false)\r\n    const url = new URL(window.location)\r\n    const location = useLocation()\r\n    const searchParameters = url.searchParams\r\n    const searchUsers=()=>{\r\n        setLoadingUsers(true)\r\n        axios.post(`/api/user/search-${searchParameters.get('searchcategory')}/`,\r\n            {   search_text_words_list :  JSON.stringify(transformTextToWords(searchParameters.get('searchtext'))),\r\n                search_text : searchParameters.get('searchtext'),\r\n                seen_users : JSON.stringify(seenUsers.current)\r\n            },\r\n            {\r\n                headers : {\r\n                  \"Content-Type\": \"multipart/form-data\",\r\n                }\r\n        }).then((response)=>{\r\n            setUsers((prev)=>{\r\n                prev = [...prev, ...response.data[0]]\r\n                seenUsers.current = prev.map(user=>user.id)\r\n                return prev\r\n            })\r\n           isNext.current = response.data[1]\r\n           setLoadingUsers(false)\r\n        }).catch((error)=>{\r\n            console.log(error.data)\r\n            setLoadingUsers(false)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        seenUsers.current = []\r\n        setUsers([])\r\n        searchUsers()\r\n    }, [location])\r\n    const {translate}= useContext(TranslationContext)\r\n  return (\r\n    <>\r\n        { users.length > 0 &&\r\n            <div className='bg-color-white'>\r\n                { users.map(user=><div key={user.id}>\r\n                    <UserCard user={user}/>\r\n                </div>)}\r\n            </div>  \r\n        }\r\n        {!loadingUsers && !users.length && <div className='bg-color-white py-5'><h4 className='text-center'>{translate('No user was found')}</h4></div>}\r\n        {isNext.current && !loadingUsers && <div className='bg-color-white py-3'>\r\n            <button disabled={loadingUsers} className={`border ${ loadingUsers ? '' : 'border-black'} mx-auto rounded-circle align-self-center p-2 aspect-ratio-1 d-flex align-items-center`} onClick={()=>{ setLoadingUsers(true); searchUsers()}}>\r\n                <i className=\"fa-solid fa-plus fa-2xl\"></i>\r\n            </button>\r\n        </div>}\r\n        {loadingUsers && <div className='bg-color-white py-5'><Loader className='color-theme mx-auto' diam='50'/></div>}\r\n</>\r\n    \r\n  )\r\n     \r\n  \r\n}\r\n\r\nexport default SearchUsers"],"names":["CardItem","styled","div","_templateObject","_taggedTemplateLiteral","_ref","user","_jsx","Link","to","concat","username","children","_jsxs","Avatar","src","image_150","className","name","SearchUsers","isNext","useRef","users","setUsers","useState","seenUsers","loadingUsers","setLoadingUsers","url","URL","window","location","useLocation","searchParameters","searchParams","searchUsers","axios","post","get","search_text_words_list","JSON","stringify","transformTextToWords","search_text","seen_users","current","headers","then","response","prev","data","map","id","catch","error","console","log","useEffect","translate","useContext","TranslationContext","_Fragment","length","UserCard","disabled","onClick","Loader","diam"],"sourceRoot":""}