"use strict";(self.webpackChunkfe=self.webpackChunkfe||[]).push([[306],{2306:(e,s,a)=>{a.r(s),a.d(s,{default:()=>i});var t=a(2791),r=(a(213),a(5294)),l=a(2046),n=a(2014),o=a(7689),d=a(8255),c=a(184);const i=()=>{const e=(0,t.useContext)(l._),{email:s,uidb64:a,token:i}=(0,o.UO)(),[m,h]=(0,t.useState)(""),[p,u]=(0,t.useState)(""),[x,w]=(0,t.useState)(!1),{setGlobalMessage:g}=e,{translate:f}=(0,t.useContext)(d.O),{setTitle:N,setDescription:v}=(0,t.useContext)(l._);return(0,t.useEffect)((()=>{N(f("Reset password")+" | ".concat(f("Ch7al Machya"))),v(f("description"))}),[]),(0,c.jsx)("div",{className:"mw-700 container",children:(0,c.jsxs)("div",{className:"card m-3 pb-3 mt-5",children:[(0,c.jsx)("h3",{className:"m-3",children:f("Reset password")}),(0,c.jsx)("div",{className:"m-3",children:(0,c.jsx)("input",{type:"password",className:"form-control",value:m,onChange:e=>{h(e.target.value)},placeholder:f("New password")})}),(0,c.jsx)("strong",{className:"text-danger mx-4",children:m.length>0&&m.length<8?f("New password should have at least 8 characters"):""}),(0,c.jsx)("div",{className:"m-3",children:(0,c.jsx)("input",{type:"password",className:"form-control",value:p,onChange:e=>{u(e.target.value)},placeholder:f("Rewrite new password")})}),(0,c.jsx)("strong",{className:"text-danger mx-4",children:m.length>=8&&m!==p?f("Passwords Do not match"):""}),(0,c.jsx)("div",{className:"d-flex flex-row-reverse",children:(0,c.jsxs)("button",{onClick:()=>{w(!0),r.Z.post("/api/reset-password-validation/",{password:m,confirm_password:p,email:s,uidb64:a,token:i},{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{g({variant:"success",text:e.data.detail,className:"m-3"}),localStorage.setItem("userData",JSON.stringify(e.data.user_data)),u(""),h(""),setTimeout((()=>{window.location.href="/settings/profile/"}),1e3)})).catch((e=>{g({variant:"danger",text:e.response.data.detail||e.message,className:"m-3"}),w(!1)}))},disabled:!(m.length>=8&&m===p),className:"btn btn-success m-3 d-flex gap-2",children:[f("Reset password"),x&&(0,c.jsx)(n.a,{diam:23})]})})]})})}}}]);
//# sourceMappingURL=306.a6334e85.chunk.js.map